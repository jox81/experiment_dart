<section id="properties">
    <h1>Properties</h1>

    <template [ngIf]="iEditElement != null">
        <div id="content">
            <div *ngFor="let key of iEditElement.properties.keys">
                <fieldset>

                    <legend *ngIf="!isString(iEditElement.properties[key])&&
                    !isBool(iEditElement.properties[key]) &&
                    !isNum(iEditElement.properties[key]) &&
                    !isInt(iEditElement.properties[key]) &&
                    !isFunction(iEditElement.properties[key]) &&
                    !isVector2(iEditElement.properties[key]) &&
                    !isVector3(iEditElement.properties[key]) &&
                    !isVector4(iEditElement.properties[key]) &&
                    !isMatrix3(iEditElement.properties[key]) &&
                    !isMatrix4(iEditElement.properties[key]) &&
                    !isMaterial(iEditElement.properties[key]) &&
                    !isList(iEditElement.properties[key]) &&
                    !isMap(iEditElement.properties[key]) &&
                    !isWebGLEnum(iEditElement.properties[key]) &&
                    !isMaterial(iEditElement.properties[key]) &&
                    !isTexture(iEditElement.properties[key]) &&
                    !isWebGLTexture(iEditElement.properties[key]) &&
                    !isWebGLBuffer(iEditElement.properties[key]) &&
                    !isMesh(iEditElement.properties[key]) &&
                    !isCamera(iEditElement.properties[key]) &&
                    !isLight(iEditElement.properties[key])">
                        <p>{{key}} - Type : {{iEditElement.properties[key].type}}</p>
                        <p style='text-align: right; margin: 18px 0px;'>{{iEditElement.properties[key].getter()}}</p>
                    </legend>

                    <legend *ngIf="isString(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isString(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            {{iEditElement.properties[key].getter()}}&nbsp;&nbsp;
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <input type="text"
                                   [value]="iEditElement.properties[key].getter()"
                                   (change) = "setStringValue(iEditElement.properties[key], $event)">
                        </section>
                    </section>

                    <legend *ngIf="isBool(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isBool(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            {{iEditElement.properties[key].getter()}}&nbsp;&nbsp;
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <toggleButton
                                    [checked]="iEditElement.properties[key].getter()"
                                    (change)= "setBoolValue(iEditElement.properties[key], $event)">
                            </toggleButton>
                        </section>
                    </section>

                    <legend *ngIf="isNum(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isNum(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <input type="number" step="0.01"
                                   [ngModel]="iEditElement.properties[key].getter().toStringAsFixed(2)"
                                   disabled>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <input type="number" step="0.01"
                                   [ngModel]="iEditElement.properties[key].getter().toStringAsFixed(2)"
                                   (change) = "setNumValue(iEditElement.properties[key], $event)">
                        </section>
                    </section>

                    <legend *ngIf="isInt(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isInt(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <input type="number" step="1"
                                   [ngModel]="iEditElement.properties[key].getter()"
                                   disabled>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <input type="number" step="1"
                                   [ngModel]="iEditElement.properties[key].getter()"
                                   (change) = "setIntValue(iEditElement.properties[key], $event)">
                        </section>
                    </section>

                    <legend *ngIf="isFunction(iEditElement.properties[key])">
                    </legend>
                    <section *ngIf="isFunction(iEditElement.properties[key])">
                        <input type="button"
                            (click)="iEditElement.properties[key].getter()()" value="{{key}}">
                    </section>

                    <!-- Custom components -->

                    <legend *ngIf="isVector2(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isVector2(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <vector2
                                    [vector]="iEditElement.properties[key].getter()"
                                    (vector3Change) = "print('setter disabled')">
                            </vector2>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <vector2
                                    [vector]="iEditElement.properties[key].getter()"
                                    (vector3Change) = "setVector2Value(iEditElement.properties[key], $event)">
                            </vector2>
                        </section>
                    </section>

                    <legend *ngIf="isVector3(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isVector3(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <vector3
                                    [vector]="iEditElement.properties[key].getter()"
                                    (vector3Change) = "print('setter disabled')">
                            </vector3>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <vector3
                                    [vector]="iEditElement.properties[key].getter()"
                                    (vector3Change) = "setVector3Value(iEditElement.properties[key], $event)">
                            </vector3>
                        </section>
                    </section>

                    <legend *ngIf="isVector4(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isVector4(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <vector4
                                    [vector]="iEditElement.properties[key].getter()"
                                    (vector4Change) = "print('setter disabled')">
                            </vector4>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <vector4
                                    [vector]="iEditElement.properties[key].getter()"
                                    (vector4Change) = "setVector4Value(iEditElement.properties[key], $event)">
                            </vector4>
                        </section>
                    </section>

                    <legend *ngIf="isMatrix3(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isMatrix3(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <matrix3
                                    [matrix]="iEditElement.properties[key].getter()"
                                    (matrix3Change) = "print('setter disabled')">
                            </matrix3>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <matrix3
                                    [matrix]="iEditElement.properties[key].getter()"
                                    (matrix4Change) = "setMatrix3Value(iEditElement.properties[key], $event)">
                            </matrix3>
                        </section>
                    </section>

                    <legend *ngIf="isMatrix4(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isMatrix4(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <matrix4
                                    [matrix]="iEditElement.properties[key].getter()"
                                    (matrix4Change) = "print('setter disabled')">
                            </matrix4>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <matrix4
                                    [matrix]="iEditElement.properties[key].getter()"
                                    (matrix4Change) = "setMatrix4Value(iEditElement.properties[key], $event)">
                            </matrix4>
                        </section>
                    </section>

                    <legend *ngIf="isList(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isList(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <list
                                    [list]="iEditElement.properties[key].getter()"
                                    [disabled] = 'true'>
                            </list>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <list
                                    [list]="iEditElement.properties[key].getter()"
                                    (elementSelected) = "setSelection($event)">
                            </list>
                        </section>
                    </section>

                    <legend *ngIf="isMap(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isMap(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            <map
                                    [map]="iEditElement.properties[key].getter()"
                                    [disabled] = 'true'>
                            </map>
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <map
                                    [map]="iEditElement.properties[key].getter()"
                                    (elementSelected) = "setSelection($event)">
                            </map>
                        </section>
                    </section>

                    <legend *ngIf="isWebGLEnum(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isWebGLEnum(iEditElement.properties[key])">
                        <section *ngIf="iEditElement.properties[key].setter == null">
                            {{iEditElement.properties[key].type}}.{{iEditElement.properties[key].getter().name}}
                        </section>
                        <section *ngIf="iEditElement.properties[key].setter != null">
                            <webglEnum
                                    [webglEnums]="getWebglEnumItems(iEditElement.properties[key].type)"
                                    [element]="iEditElement.properties[key].getter()"
                                    (elementSelected) = "setWebGLEnumSelection(iEditElement.properties[key],$event)">
                            </webglEnum>
                        </section>
                    </section>

                    <legend *ngIf="isMaterial(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isMaterial(iEditElement.properties[key])">
                        <input type="button"
                               (click)="setSelection(iEditElement.properties[key].getter())" value="Edit Material">
                    </section>

                    <legend *ngIf="isTexture(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isTexture(iEditElement.properties[key])">
                        <input type="button"
                               (click)="setSelection(iEditElement.properties[key].getter())" value="Edit Texture">
                    </section>

                    <legend *ngIf="isWebGLTexture(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isWebGLTexture(iEditElement.properties[key])">
                        <input type="button"
                               (click)="setSelection(iEditElement.properties[key].getter())" value="Edit WebGLTexture">
                    </section>

                    <legend *ngIf="isWebGLBuffer(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isWebGLBuffer(iEditElement.properties[key])">
                        <input type="button"
                               (click)="setSelection(iEditElement.properties[key].getter())" value="Edit WebGLBuffer">
                    </section>




                    <legend *ngIf="isMesh(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isMesh(iEditElement.properties[key])">
                        <input type="button"
                               (click)="setSelection(iEditElement.properties[key].getter())" value="Edit Mesh">
                    </section>

                    <legend *ngIf="isCamera(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isCamera(iEditElement.properties[key])">
                        <input type="button"
                               (click)="setSelection(iEditElement.properties[key].getter())" value="Edit Camera">
                    </section>

                    <legend *ngIf="isLight(iEditElement.properties[key])">
                        {{key}}
                    </legend>
                    <section *ngIf="isLight(iEditElement.properties[key])">
                        <input type="button"
                               (click)="setSelection(iEditElement.properties[key].getter())" value="Edit Light">
                    </section>

                </fieldset>
                <hr>
            </div>
        </div>
    </template>

</section>